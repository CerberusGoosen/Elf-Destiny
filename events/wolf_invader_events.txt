namespace = wolf_invader 

wolf_invader.0001 = { #Strange Reports
    type = character_event
    title = wolf_invader.0001.title
    desc = wolf_invader.0001.desc
    theme = restored_portal
    immediate = {
        debug_log = "strange reports event 0001"
        save_scope_as = elflord
        add_character_flag = elflord_dealing_with_direwolf
    }

    left_portrait = {
        character = root
        animation = personality_rational
    } 

    option = {
        name = wolf_invader.0001.a
        trigger_event = { 
            id = wolf_invader.0002
            days = 4
        }
    }
}

wolf_invader.0002 = { #Sighting of wolf in county
    type = character_event
    title = wolf_invader.0002.title
    desc = wolf_invader.0002.desc
    theme = martial
    override_background = { reference = council_chamber }
    immediate = {
        debug_log = "sighting of the wolf event 0002"
        random_councillor = { 
            save_scope_as = random_councillor
        }
    }

    right_portrait = {
        character = root
        animation = interested
    }
    
    lower_left_portrait = {
        character = scope:random_councillor
        animation = interested
    }

    left_portrait = {
        character = cp:aeluran_advisor
        animation = interested
    }
    
    option = {
        name = wolf_invader.0002.a
        trigger_event = {
            id = wolf_invader.0003
            days = 3
        }
    }    
}

wolf_invader.0003 = { #negative economic penalties
    type = character_event
    title = wolf_invader.0003.title
    desc = wolf_invader.0003.desc
    theme = martial
    override_background = { reference = council_chamber }

    immediate = {
        debug_log = "negative economic penalties"

        random_knight = {
            limit = { 
                NOT = { 
                    scope:wolfslayer = { 
                        is_alive = yes
                    }
                }   
                prowess >= 12
                is_adult = yes
            }
            save_scope_as = wolfslayer
        }

        if = { 
            limit = { 
                NOT = { 
                    capital_county = {
                        has_county_modifier = wolf_terror_modifier
                    }
                }
            }
            capital_county = {
                add_county_modifier = wolf_terror_modifier
            }
        }

        else_if = { 
            capital_county = {
                remove_county_modifier = wolf_terror_modifier
                add_county_modifier = wolf_terror_bad_modifier
            }
        }
    }

    right_portrait = {
        character = root
        animation = personality_bold
    }

    lower_left_portrait = {
        character = scope:random_councillor
        animation = interested
    }

    left_portrait = {
        character = cp:aeluran_advisor
        animation = interested
    }


    option = { #going on a hunt
        name = wolf_invader.0003.b
        is_shown = { 
            is_adult = yes
        }
        trigger_event = {
            id = wolf_invader.0005
            days = 15
        }
        stress_impact = { 
            craven = 150
            lifestyle_hunter = -50
            brave = -50
        }
    }

    option = { #paying mercenaries to deal with the wolf
        name = wolf_invader.0003.c
        trigger_event = { 
            id = wolf_invader.00031
            days = 30
        }
    }

    option = { #ignoring the wolf
        name = wolf_invader.0003.a
        trigger_event = {
            id = wolf_invader.0004
            months = { 48 72 }
        }
    }

}

wolf_invader.00031 = { #choosing which mercenaries to hire
    type = character_event
    title = wolf_invader.00031.title
    desc = wolf_invader.00031.desc
    theme = martial

    immediate = {
        debug_log = "choosing which mercenaries to hire to kill the direwolf"
    }

    left_portrait = {
        character = root
        animation = personality_bold
    }

    option = { #buying shitty mercs
        name = wolf_invader.00031.a
        remove_short_term_gold = tiny_gold_value
        random_list = {
            25 = { #mercs succeeded
                trigger_event = { 
                    id = wolf_invader.00032
                    days = 30
                }
                custom_tooltip = { 
                    text = mercs_succeed
                }
            }
            75 = { #mercs got killed
                trigger_event = { 
                    id = wolf_invader.00033
                    days = 30
                }
                custom_tooltip = { 
                    text = mercs_fail
                }
            }
        }
        stress_impact = { 
            greedy = 25
        }
    }

    option = { #buying good mercs
        name = wolf_invader.00031.b
        remove_short_term_gold = minor_gold_value
        random_list = {
            50 = { #mercs succeeded
                trigger_event = { 
                    id = wolf_invader.00032
                    days = 30
                }
                custom_tooltip = { 
                    text = mercs_succeed
                }
            }
            50 = { #mercs got killed
                trigger_event = { 
                    id = wolf_invader.00033
                    days = 30
                }
                custom_tooltip = { 
                    text = mercs_fail
                }
            }
        }
        stress_impact = { 
            greedy = 50
        }
    }

    option = { #buying great mercs
        name = wolf_invader.00031.c
        remove_short_term_gold = medium_gold_value
        random_list = {
            75 = { #mercs succeeded
                trigger_event = { 
                    id = wolf_invader.00032
                    days = 30
                }
                custom_tooltip = { 
                    text = mercs_succeed
                }
            }
            25 = { #mercs got killed
                trigger_event = { 
                    id = wolf_invader.00033
                    days = 30
                }
                custom_tooltip = { 
                    text = mercs_fail
                }
            }
        }
        stress_impact = { 
            greedy = 75
        }
    }
}


wolf_invader.00032 = { #mercs succeeded in killing the direwolf
    type = character_event
    title = wolf_invader.00032.title
    desc = wolf_invader.00032.desc
    theme = martial

    override_background = { reference = throne_room }

    immediate = {
        debug_log = "hired mercs have killed the direwolf"
        capital_county = {
            remove_county_modifier = wolf_terror_modifier
            remove_county_modifier = wolf_terror_bad_modifier
        }
    }

    left_portrait = {
        character = root
        animation = happiness
    }

    option = {
        name = wolf_invader.00032.a
        stress_impact = { 
        base = -100
        eager_reveler = -100
        gregarious = -35
        shy = 50
        drunkard = -35
    }
    }
}


wolf_invader.00033 = { #hired mercs got killed by direwolf
    type = character_event
    title = wolf_invader.00033.title
    desc = wolf_invader.00033.desc
    theme = martial

    immediate = {
        debug_log = "hired mercs failed and got killed by direwolf"
    }

    left_portrait = {
        character = root
        animation = anger
    }

    option = {
        name = wolf_invader.00033.a
        trigger_event = { 
            id = wolf_invader.0003
            days = 40
        }
    }

}


wolf_invader.0004 = { #some random bloke kills le wolf
    type = character_event
    title = wolf_invader.0004.title
    desc = wolf_invader.0004.desc
    theme = martial
    
    left_portrait = {
        character = root
        animation = happiness
    }
    right_portrait = {
        character = scope:wolfslayer
        animation = personality_bold
    }

    immediate = {
        debug_log = "some random fellow just killed the fake wolf"
        scope:wolfslayer = {
            if = {
                limit = {
                    is_alive = no
                }
                random_knight = {
                    limit = { 
                        is_courtier_of = scope:elflord
                        prowess >= 12
                        is_adult = yes
                    }
                    save_scope_as = wolfslayer
                }
            }
        }

        if = {
            limit = { 
                capital_county = { 
                    has_county_modifier = wolf_terror_modifier
                }
            }
            capital_county = { 
                remove_county_modifier = wolf_terror_modifier
            }
        }

        if = {
            limit = { 
                capital_county = { 
                    has_county_modifier = wolf_terror_bad_modifier
                }
            }
            capital_county = { 
                remove_county_modifier = wolf_terror_bad_modifier
            }
        }
    }

    option = {
        name = wolf_invader.0004.a
        trigger_event = {
            id = wolf_invader.00041
            months = { 2 4 }
        }
    }
}

wolf_invader.00041 = { #wolf is back after being 'slain'
    type = character_event
    title = wolf_invader.00041.title
    desc = wolf_invader.00041.desc
    theme = martial
    
    left_portrait = {
        character = root
        animation = anger
    }

    immediate = {
        debug_log = "wolf has returned after being 'dead' "

        if = { 
            limit = { 
                NOT = { 
                    capital_county = {
                        has_county_modifier = wolf_terror_modifier
                    }
                }
            }
            capital_county = {
                add_county_modifier = wolf_terror_modifier
            }
        }

        else_if = { 
            capital_county = {
                remove_county_modifier = wolf_terror_modifier
                add_county_modifier = wolf_terror_bad_modifier
            }
        }
        stress_impact = { 
            base = 20
        }
    }

    option = { #going on a hunt
        name = wolf_invader.00041.a
        is_shown = { 
            is_adult = yes
        }
        trigger_event = {
            id = wolf_invader.0005
            days = 15
        }
        custom_tooltip = { 
            text = going_on_a_hunt
        }
        stress_impact = { 
            craven = 150
            lifestyle_hunter = -50
            brave = -50
        }
    }

    option = { #paying mercenaries to deal with the wolf
        name = wolf_invader.00041.b
        trigger_event = { 
            id = wolf_invader.00031
            days = 30
        }
        custom_tooltip = { 
            text = hiring_mercs
        }
    }
}

wolf_invader.0005 = {#hunt underway
    type = character_event
    title = wolf_invader.0005.title
    desc = wolf_invader.0005.desc
    theme = hunt_activity

    immediate = {
        debug_log = "player is going on a hunt"
        scope:elflord = {
            random_knight = {
                limit = {
                    prowess >= 12
                }
                save_scope_as = hunter_1
            }
            random_knight = {
                limit = {
                    prowess >= 12
                    NOT = { 
                        this = scope:hunter_1
                    }
                }
                save_scope_as = hunter_2
            }
        }
    }

    left_portrait = {
        character = root
        animation = hunting_knife_start
    }
    
    right_portrait = { 
        trigger = {
            exists = scope:hunter_1
        }
        character = scope:hunter_1
        animation = aggressive_sword
    }
    
    lower_left_portrait = { 
        trigger = {
            exists = scope:hunter_2
        }
        character = scope:hunter_2
        animation = aggressive_spear
    }

    option = {
        name = wolf_invader.0005.a
        trigger_event = {
            id = wolf_invader.0006
            days = 25
        }
    }
}

wolf_invader.0006 = {#wolf encounter
    type = character_event
    title = wolf_invader.0006.title
    desc = wolf_invader.0006.desc
    theme = hunt_activity

    immediate = {
        debug_log = "player encounters the wolf"
    }

    left_portrait = {
        character = root
        animation = hunting_knife_start
    }

    lower_left_portrait = { 
        trigger = {
            exists = scope:hunter_1
        }
        character = scope:hunter_1
        animation = aggressive_sword
    }
    
    right_portrait = { 
        trigger = {
            exists = scope:hunter_2
        }
        character = scope:hunter_2
        animation = aggressive_spear
    }

    option = { 
        name = wolf_invader.0006.a
        random_list = {
            50 = { # wolf is engaged
                trigger_event = {
                    id = wolf_invader.0007
                }
                modifier = {
                    factor = 2
                    has_trait = lifestyle_hunter
                }
                modifier = {
                    factor = 1.5
                    has_trait = intellect_good_1
                }
                modifier = {
                    factor = 2
                    has_trait = intellect_good_2
                }
                modifier = {
                    factor = 2.5
                    has_trait = intellect_good_3
                }

                modifier = {
                    factor = 3
                    has_trait = intellect_good_4
                }
                custom_tooltip = { 
                    text = wolf_engaged
                }
            }
            

            50 = { #wolf evasion
                trigger_event = {
                    id = wolf_invader.0061
                }
                custom_tooltip = { 
                    text = wolf_evades
                }  
            }
            stress_impact = { 
                base = 25
            }
                
        }
    }
}

wolf_invader.0061 = { #the wolf evades the hunter
    type = character_event
    title = wolf_invader.0061.title
    desc = wolf_invader.0061.desc
    theme = hunt_activity

    immediate = {
        debug_log = "wolf evades the hunter"
    }

    left_portrait = {
        character = root
        animation = anger
    }

    lower_left_portrait = { 
        trigger = {
            exists = scope:hunter_1
        }
        character = scope:hunter_1
        animation = personality_callous
    }
    
    right_portrait = { 
        trigger = {
            exists = scope:hunter_2
        }
        character = scope:hunter_2
        animation = personality_callous
    }

    option = {
        name = wolf_invader.0061.a
        trigger_event = {
            id = wolf_invader.0062
            days = { 30 90 }
        }
    }
}

wolf_invader.0062 = {#wolf causes even more destruction
    type = character_event
    title = wolf_invader.0062.title
    desc = wolf_invader.0062.desc
    theme = hunt_activity

    immediate = {
        debug_log = "wolf causes even more destruction"
        capital_county = {
            remove_county_modifier = wolf_terror_modifier
            add_county_modifier = wolf_terror_bad_modifier
        }
    }

    left_portrait = {
        character = root
        animation = rage
    }

    option = { # going on a hunt ( again )
        name = wolf_invader.0062.a
        trigger_event = {
            id = wolf_invader.0005
        }
    }
    option = { #paying someone else 
        name = wolf_invader.0062.b
        trigger_event = {
            id = wolf_invader.00031
        }
    }
}

wolf_invader.0007 = { #wolf is intercepted and engaged by hunting party
    type = character_event
    title = wolf_invader.0007.title
    desc = wolf_invader.0007.desc
    theme = hunt_activity

    immediate = {
        debug_log = "wolf is intercepted and engaged by hunting party"
    }

    left_portrait = {
        character = root
        animation = hunting_longbow_aim_arrow_default
    }

    lower_left_portrait = { 
        trigger = {
            exists = scope:hunter_1
        }
        character = scope:hunter_1
        animation = aggressive_sword
    }
    
    right_portrait = { 
        trigger = {
            exists = scope:hunter_2
        }
        character = scope:hunter_2
        animation = aggressive_spear
    }

    option = { #letting the wolf escape
        name = wolf_invader.0007.a
        custom_tooltip = {
            text = better_if_warg
        }
        trigger_event = {
            id = wolf_invader.0008
            days = { 40 80 }
        }

        stress_impact = { 
            warg = -25
            brave = 20
            vengeful = 50
        }
    }

    option = { #fighting the wolf with the party
        name = wolf_invader.0007.b
        custom_tooltip = { 
            text = better_odds_to_succeed
        }
        trigger_event = {
            id = wolf_invader.99
        }
    }

    option = { #fighting the wolf alone
        name = wolf_invader.0007.c
        custom_tooltip = { 
            text = better_rewards
        }
        trigger_event = {
            id = wolf_invader.98
        }
        stress_impact = { 
            brave = -25
        }
    }    
}

wolf_invader.0008 = {#wolf is encountered peacefully by player
    type = character_event
    title = wolf_invader.0008.title
    desc = wolf_invader.0008.desc
    theme = hunt_activity

    immediate = {
        debug_log = "wolf is encountered peacefully by player"
        if = {
            limit = {
                capital_county = {
                    has_county_modifier = wolf_terror_modifier
                }
            }
            capital_county = { 
                remove_county_modifier = wolf_terror_modifier
            }
        }
        if = {
            limit = {
                capital_county = {
                    has_county_modifier = wolf_terror_bad_modifier
                }
            }
            capital_county = { 
                remove_county_modifier = wolf_terror_bad_modifier
            }
        }
        
    }

    left_portrait = {
        character = root
        animation = stayback
    }

    option = {
        name = wolf_invader.0008.a
        if = {
            limit = { 
                has_trait = warg
            }
            trigger_event = wolf_invader.00081
        }
        else = {
            trigger_event = wolf_invader.00082
        }
    }
}

wolf_invader.00081 = {#player is a warg and tames the mother
    type = character_event
    title = wolf_invader.00081.title
    desc = wolf_invader.00081.desc
    theme = hunt_activity

    immediate = {
        debug_log = "player is a warg and tames the mother"
        capital_county = {
            add_county_modifier = has_direwolf_population_modifier
        }
    }

    left_portrait = {
        character = root
        animation = happiness
    }

    option = {
        name = wolf_invader.00081.a
    }
}

wolf_invader.00082 = {#player isnt a warg and is gifted a pup
    type = character_event
    title = wolf_invader.00082.title
    desc = wolf_invader.00082.desc
    theme = hunt_activity

    immediate = {
        debug_log = "player is not a warg and is gifted a pup"
        capital_county = {
            add_county_modifier = has_direwolf_population_modifier
        }
        add_character_modifier = has_direwolf_pup_modifier
    }

    left_portrait = {
        character = root
        animation = happiness
    }

    option = {
        name = wolf_invader.00082.a
        trigger_event = { #event for the pup growing into a full direwolf
            id = wolf_invader.00083
            years = { 4 5 }
        }
    }
}

wolf_invader.98 = { #player fights the wolf alone
    type = character_event
    title = wolf_invader.98.title
    desc = wolf_invader.98.desc
    theme = hunt_activity

    immediate = { 
        debug_log = "player fights the wolf alone"
    }

    left_portrait = {
        character = root
        animation = personality_bold
    }

    option = { 
        name = wolf_invader.98.a

        random_list = {
            50 = {#wolf dies to player
                modifier = {
                    factor = 2
                    has_trait = lifestyle_hunter
                }
                modifier = {
                    factor = 1.5
                    has_trait = physique_good_1
                }
                modifier = {
                    factor = 2
                    has_trait = physique_good_2
                }
                modifier = {
                    factor = 2.5
                    has_trait = physique_good_3
                }

                modifier = {
                    factor = 3
                    has_trait = physique_good_4
                }
                trigger_event = { 
                    id = wolf_invader.102
                }
                custom_tooltip = { 
                    text = direwolf_dies_to_hunting_party
                }
            }    
            50 = {#wolf whacks player 
                modifier = {
                    add = -20
                    has_trait = physique_bad_1
                }
                modifier = {
                    add = -40
                    has_trait = physique_bad_2
                }
                modifier = {
                    add = -60
                    has_trait = physique_bad_3
                }
                trigger_event = { 
                    id = wolf_invader.200
                }
                custom_tooltip = { 
                    text = direwolf_kills_hunting_party
                }    
            }
        }
    }
}

wolf_invader.99 = { #hunting party is engaging the wolf
    type = character_event
    title = wolf_invader.99.title
    desc = wolf_invader.99.desc
    theme = hunt_activity

    immediate = { 
        debug_log = "hunting party is engaging the wolf"
    }

    left_portrait = {
        character = root
        animation = hunting_longbow_aim_arrow_default
    }

    lower_left_portrait = { 
        trigger = {
            exists = scope:hunter_1
        }
        character = scope:hunter_1
        animation = aggressive_sword
    }
    
    right_portrait = { 
        trigger = {
            exists = scope:hunter_2
        }
        character = scope:hunter_2
        animation = aggressive_spear
        
    }
    option = { 
        name = wolf_invader.99.a

        random_list = {
            65 = {#wolf dies to hunting party
                trigger_event = {
                    id = wolf_invader.100
                }
                modifier = {
                    factor = 2
                    has_trait = lifestyle_hunter
                }
                modifier = {
                    factor = 1.5
                    has_trait = physique_good_1
                }
                modifier = {
                    factor = 2
                    has_trait = physique_good_2
                }
                modifier = {
                    factor = 2.5
                    has_trait = physique_good_3
                }

                modifier = {
                    factor = 3
                    has_trait = physique_good_4
                }
                custom_tooltip = { 
                    text = direwolf_dies_to_hunting_party
                }
            }

            35 = {#wolf whacks player 
                trigger_event = {
                    id = wolf_invader.200
                }
                modifier = {
                    add = -20
                    has_trait = physique_bad_1
                }
                modifier = {
                    add = -40
                    has_trait = physique_bad_2
                }
                modifier = {
                    add = -60
                    has_trait = physique_bad_3
                }
                custom_tooltip = { 
                    text = direwolf_kills_hunting_party
                }
            }
        }
    }
}

wolf_invader.100 = { #wolf is killed by party
    type = character_event
    title = wolf_invader.100.title
    desc = wolf_invader.100.desc
    theme = hunt_activity

    immediate = {
        debug_log = "wolf is killed by party"
        capital_county = {
            remove_county_modifier = wolf_terror_bad_modifier
            remove_county_modifier = wolf_terror_modifier
        }
        
        random_list = { 
            15 = { 
                death = {
                    death_reason = killed_by_direwolf
                }        
            }
            20 = { 
                increase_wounds_effect = { REASON = killed_direwolf }
            }
            65 = { #gets off scot free
                modifier = {
                    has_trait = physique_good_1
                    factor = 1.5
                }
                modifier = {
                    has_trait = physique_good_2
                    factor = 2
                }
                modifier = {
                    has_trait = physique_good_3
                    factor = 2.5
                }
                modifier = {
                    has_trait = physique_good_4
                    factor = 3
                }
                modifier = {
                    has_trait = strong
                    factor = 1.8
                }
                
            }
        }
        
        if = { 
            limit = {
                exists = scope:hunter_1
            }
            random_list = {
                15 = { 
                    scope:hunter_1 = {
                        death = {
                            death_reason = killed_by_direwolf
                        } 
                    }
                }
                20 = { 
                    scope:hunter_1 = {
                        increase_wounds_effect = { REASON = killed_direwolf }
                    }
                }
                65 = { 
                    #gets off scot free
                    modifier = {
                        has_trait = physique_good_1
                        factor = 1.5
                    }
                    modifier = {
                        has_trait = physique_good_2
                        factor = 2
                    }
                    modifier = {
                        has_trait = physique_good_3
                        factor = 2.5
                    }
                    modifier = {
                        has_trait = physique_good_4
                        factor = 3
                    }
                    modifier = {
                        has_trait = strong
                        factor = 1.8
                    }
                }
            }
        }
        
        if = { 
            limit = {
                exists = scope:hunter_2
            }   
            random_list = {
                15 = { 
                    scope:hunter_2 = {
                        death = {
                            death_reason = killed_by_direwolf
                        } 
                    }
                }
                20 = { 
                    scope:hunter_2 = {
                        increase_wounds_effect = { REASON = killed_by_direwolf }
                    }
                }
                65 = { 
                    #gets off scot free
                    modifier = {
                        has_trait = physique_good_1
                        factor = 1.5
                    }
                    modifier = {
                        has_trait = physique_good_2
                        factor = 2
                    }
                    modifier = {
                        has_trait = physique_good_3
                        factor = 2.5
                    }
                    modifier = {
                        has_trait = physique_good_4
                        factor = 3
                    }
                    modifier = {
                        has_trait = strong
                        factor = 1.8
                    }
                }
            }
        }
    }

    left_portrait = { 
        character = root
        animation = celebrate_sword
    }

    lower_left_portrait = { 
        trigger = {
            exists = scope:hunter_1
        }
        character = scope:hunter_1
    }
    
    right_portrait = { 
        trigger = {
            exists = scope:hunter_2   
        }
        character = scope:hunter_2
        animation = celebrate_spear
    }

    option = {
        name = wolf_invader.100.a
        trigger_event = {
            id = wolf_invader.101
        }
        stress_impact = { 
            base = -50
        }
    }
}

wolf_invader.101 = { #reward for killing wolf with party
    type = character_event
    title = wolf_invader.101.title
    desc = wolf_invader.101.desc
    theme = hunt_activity

    immediate = {
        debug_log = "reward for killing wolf with party"
    }

    left_portrait = { 
        character = root
        animation = personality_content
    }

    lower_left_portrait = { 
        trigger = {
            exists = scope:hunter_1
        }
        character = scope:hunter_1
    }
    
    right_portrait = { 
        trigger = {
            exists = scope:hunter_2
        }
        character = scope:hunter_2
        animation = celebrate_spear
    }

    option = {
        name = wolf_invader.101.a
        add_prestige = 1500
        add_character_modifier = { 
            modifier = direwolf_slayer_modifier
            years = 5
        }    
        if = { 
            limit = {
                exists = scope:hunter_1
            }
            scope:hunter_1 = {
                add_prestige = 1000
                add_character_modifier = { 
                    modifier = direwolf_slayer_modifier
                    years = 5
                }
            }
        }
        if = { 
            limit = {
                exists = scope:hunter_2
            }
            scope:hunter_2 = {
                add_prestige = 1000
                add_character_modifier = { 
                    modifier = direwolf_slayer_modifier
                    years = 5
                } 
            }
        }
        create_direwolf_head_effect = { 
            OWNER = scope:elflord
        }

        trigger_event = { 
            id = wolf_invader.104
            days = 3
        }
        
    }
}

wolf_invader.102 = { #wolf is killed by player alone
    type = character_event
    title = wolf_invader.102.title
    desc = wolf_invader.102.desc
    theme = hunt_activity

    immediate = {
        debug_log = "wolf is killed by player alone"
        capital_county = {
            remove_county_modifier = wolf_terror_bad_modifier
            remove_county_modifier = wolf_terror_modifier
        }
        give_nickname = nick_wolfslayer
    }    
    left_portrait = { 
        character = root
        animation = celebrate_sword
    }


    option = {
        name = wolf_invader.102.a
        trigger_event = { 
            id = wolf_invader.103
        }
    }
}

wolf_invader.103 = { #reward for killing wolf alone
    type = character_event
    title = wolf_invader.103.title
    desc = wolf_invader.103.desc
    theme = hunt_activity

    immediate = {
        debug_log = "reward for killing wolf alone"
        create_direwolf_rug_effect = { 
            OWNER = scope:elflord
        }
    }
    

    left_portrait = { 
        character = root
        animation = happiness
    }

    option = {
        name = wolf_invader.103.a
        add_prestige = 3000
        trigger_event = { 
            id = wolf_invader.104
        }
        add_character_modifier = { 
        modifier = direwolf_slayer_modifier
        years = 5
    }
    }
    
}

wolf_invader.104 = { #finding the wolf den
    type = character_event
    title = wolf_invader.104.title
    desc = wolf_invader.104.desc
    theme = hunt_activity

    immediate = {
        debug_log = "finding the wolf den"
    }

    left_portrait = { 
        character = root
        animation = interested
    }

    option = {# whack the pup
        name = wolf_invader.104.a
        trigger_event = { 
            id = wolf_invader.105
        }
    }
    option = {# taming the pup
        name = wolf_invader.104.b
        trigger_event = { 
            id = wolf_invader.106
        }
    }
}

wolf_invader.105 = { #rewards for whacking the pup
    type = character_event
    title = wolf_invader.105.title
    desc = wolf_invader.105.desc
    theme = diplomacy

    override_background = { reference = throne_room }

    immediate = {
        debug_log = "player rewarded for whacking pup"
        capital_county = {
            add_county_modifier = { 
                modifier = whacked_pup_modifier
                years = 5
            }    
        }

    }

    left_portrait = { 
        character = root
        animation = interested
    }

    option = {
        name = wolf_invader.105.a
        add_prestige = 100
    }
}

wolf_invader.106 = { #rewards for taking the pup
    type = character_event
    title = wolf_invader.106.title
    desc = wolf_invader.106.desc
    theme = martial
    override_background = { reference = throne_room }

    immediate = {
        debug_log = "player rewarded for whacking pup"
        capital_county = {
            add_county_modifier = { 
                modifier = took_pup_modifier
                years = 5
            }    
        }
        add_character_modifier = has_direwolf_pup_modifier
    }

    left_portrait = { 
        character = root
        animation = interested
    }

    option = {
        name = wolf_invader.106.a
        add_prestige = -500
        trigger_event = { #event for the pup growing into a full direwolf
            id = wolf_invader.00083
            years = { 4 5 }
        }
    }
}

wolf_invader.200 = {#player dies to wolf
    type = character_event
    title = wolf_invader.200.title
    desc = wolf_invader.200.desc
    theme = hunt_activity

    immediate = {
        debug_log = "player dies to wolf"
        if = { 
            limit = {
                exists = scope:hunter_1
            }
            random_list = {
                33 = { 
                    scope:hunter_1 = {
                        death = {
                            death_reason = killed_by_direwolf
                        } 
                    }
                }
                33 = { 
                    scope:hunter_1 = {
                        increase_wounds_effect = { REASON = killed_direwolf }
                    }
                }
                33 = { 
                    #gets off scot free
                    modifier = {
                        has_trait = physique_good_1
                        factor = 1.5
                    }
                    modifier = {
                        has_trait = physique_good_2
                        factor = 2
                    }
                    modifier = {
                        has_trait = physique_good_3
                        factor = 2.5
                    }
                    modifier = {
                        has_trait = physique_good_4
                        factor = 3
                    }
                    modifier = {
                        has_trait = strong
                        factor = 1.8
                    }
                }
            }
        }
        if = { 
            limit = {
                exists = scope:hunter_2
            }   
            random_list = {
                33 = { 
                    scope:hunter_2 = {
                        death = {
                            death_reason = killed_by_direwolf
                        } 
                    }
                }
                33 = { 
                    scope:hunter_2 = {
                        increase_wounds_effect = { REASON = killed_by_direwolf }
                    }
                }
                33 = { 
                    #gets off scot free
                    modifier = {
                        has_trait = physique_good_1
                        factor = 1.5
                    }
                    modifier = {
                        has_trait = physique_good_2
                        factor = 2
                    }
                    modifier = {
                        has_trait = physique_good_3
                        factor = 2.5
                    }
                    modifier = {
                        has_trait = physique_good_4
                        factor = 3
                    }
                    modifier = {
                        has_trait = strong
                        factor = 1.8
                    }
                }
            }
        }
    }

    left_portrait = { 
        character = root
        animation = stayback
    }
    lower_left_portrait = { 
        trigger = {
            exists = scope:hunter_1
        }
        character = scope:hunter_1
        animation = fear
    }
    
    right_portrait = { 
        trigger = {
            exists = scope:hunter_2
        }
        character = scope:hunter_2
        animation = fear
    }

    option = { 
        name = wolf_invader.200.a
        death = {
            death_reason = killed_by_direwolf
        }   
    }
}

wolf_invader.2001 = {#ensuring the event continues and doesnt break
    type = character_event
    hidden = yes

    immediate = {
        add_character_flag = direwolf_event_heir_continuation
        if = { 
            limit = {
                root = {
                    is_adult = yes
                }
            }
            trigger_event = { 
                id = wolf_invader.201
            }
        }
        else = { 
            trigger_event = { 
                id = wolf_invader.2001
                years = 1
            }
        }
    }
}

wolf_invader.201 = {#player is ambushed by wolf
    type = character_event
    title = wolf_invader.201.title
    desc = wolf_invader.201.desc
    theme = hunt_activity

    immediate = {
        debug_log = "player is ambushed by wolf"
        save_scope_as = scope:elflord
    }

    left_portrait = { 
        character = root
        animation = stayback
    }

    option = { 
        name = wolf_invader.201.a
        trigger_event = { 
            id = wolf_invader.98
        }
    }
}


wolf_invader.555 = {#player takes decision to tame direwolf
    type = character_event
    title = wolf_invader.555.title
    desc = wolf_invader.555.desc
    theme = direwolf_grounds

    immediate = {
        debug_log = "decision to tame a wolf taken"
    }

    left_portrait = {
        character = root
        animation = interested
    }

    option = {# confirming trying to tame a pup
        name = wolf_invader.555.a
        random_list = { 
            40 = { #success in taming a pup
                if = { 
                    limit = { 
                        has_trait = warg
                    }
                    trigger_event = { 
                    id = wolf_invader.5551
                    days = 2
                    }
                }    
                else_if = { 
                    trigger_event = { 
                    id = wolf_invader.55511
                    days = 2
                    }
                }
                
                modifier = { 
                    has_trait = warg
                    factor = 7.5
                }
                modifier = { 
                    has_trait = physique_good_1
                    factor = 1.2
                }
                modifier = { 
                    has_trait = physique_good_2
                    factor = 1.6
                }
                modifier = { 
                    has_trait = physique_good_3
                    factor = 2
                }
                modifier = { 
                    has_trait = physique_good_4
                    factor = 3
                }
                custom_tooltip = { 
                    text = pup_taming_success
                }
            }
            40 = { #failure
                trigger_event = { 
                    id = wolf_invader.5552
                    days = 2
                }
                custom_tooltip = { 
                    text = pup_taming_failure
                }
            }
            
            20 = { #death
                trigger_event = { 
                    id = wolf_invader.5553
                    days = 2
                }
                custom_tooltip = {
                    text = pup_taming_death
                }
            }
        }
    }

    option = { #backing out
        name = wolf_invader.555.b
        remove_decision_cooldown = tame_direwolf_pup
    }
}

wolf_invader.5551 = {#taming successful warg version
    type = character_event
    title = wolf_invader.5551.title
    desc = wolf_invader.5551.desc
    theme = direwolf_grounds

    immediate = {
        
    }

    left_portrait = {
        character = root
        animation = happiness
    }

    

    option = { 
        name = wolf_invader.5551.a
        trait = warg
        trigger_event = { 
            id = wolf_invader.00083
            years = 5
        }
        custom_tooltip = { 
            text = available_because_warg_trait
        }
        add_character_modifier = has_direwolf_pup_modifier
    }
}

wolf_invader.55511 = {#taming successful warg version
    type = character_event
    title = wolf_invader.55511.title
    desc = wolf_invader.55511.desc
    theme = direwolf_grounds

    immediate = {
        
    }

    left_portrait = {
        character = root
        animation = happiness
    }

    

    option = { 
        name = wolf_invader.55511.a
        trigger_event = { 
            id = wolf_invader.00083
            years = 5
        }
        add_character_modifier = has_direwolf_pup_modifier
    }
}


wolf_invader.5552 = {#failing to tame a pup
    type = character_event
    title = wolf_invader.5552.title
    desc = wolf_invader.5552.desc
    theme = direwolf_grounds

    immediate = {

    }

    left_portrait = {
        character = root
        animation = fear
    }

    option = { 
        name = wolf_invader.5552.a
        random_list = { 
            50 = { #nothing happens 
                modifier = { 
                    has_trait = warg
                    factor = 5
                }
                modifier = { 
                    has_trait = physique_good_1
                    factor = 1.2
                }
                modifier = { 
                    has_trait = physique_good_2
                    factor = 1.6
                }
                modifier = { 
                    has_trait = physique_good_3
                    factor = 2
                }
                modifier = { 
                    has_trait = physique_good_4
                    factor = 3
                }
            }

            50 = { 
                increase_wounds_effect = { 
                    REASON = killed_by_direwolf
                }
            }
        }
    }
}

wolf_invader.5553 = {#taming results in death
    type = character_event
    title = wolf_invader.5553.title
    desc = wolf_invader.5553.desc
    theme = direwolf_grounds

    immediate = {
        
    }

    left_portrait = {
        character = root
        animation = fear
    }

    option = { 
        name = wolf_invader.5553.a
        death = { 
            death_reason = killed_by_direwolf
        }
    }
}

wolf_invader.00083 = {#pup is grown into a full direwolf
    type = character_event
    title = wolf_invader.00083.title
    desc = wolf_invader.00083.desc
    theme = pet

    immediate = {
        debug_log = "wolf pup is grown into a full direwolf"
    }

    left_portrait = {
        character = root
        animation = happiness
    }

    option = {
        name = wolf_invader.00083.a
        remove_character_modifier = has_direwolf_pup_modifier
        add_character_modifier = has_grown_direwolf_modifier
        trigger_event = { 
            id = wolf_invader.00085
            years = { 15 20 }
        }

    }
}

wolf_invader.00084 = {#unlocks direwolf riders innovation
    type = character_event
    title = wolf_invader.00084.title
    desc = wolf_invader.00084.desc
    theme = direwolf_training

    immediate = {
        debug_log = "dire wolf riders maa unlocked"
    }
    left_portrait = { 
        character = root
        animation = interested
    }

    right_portrait = { 
        character = cp:councillor_marshal
        animation = personality_bold

    }

    option = {
        name = wolf_invader.00084.a
        root = {
            culture = { 
                # add_innovation = innovation_direwolf_riders
            }
        }
    }
}

wolf_invader.00085 = {#direwolf dies to age
    type = character_event
    title = wolf_invader.00085.title
    desc = wolf_invader.00085.desc
    theme = death
    override_background = { reference = garden }
    immediate = {
        debug_log = "grown direwolf dies due to age"
    }

    left_portrait = {
        character = root
        animation = crying
    }

    option = {
        name = wolf_invader.00085.a
        remove_character_modifier = has_grown_direwolf_modifier
        stress_impact = { 
            base = 50
        }
    }
}